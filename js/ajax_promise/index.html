<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS 请求</title>
</head>
<body>


    <ul id="repos"></ul>








    <script>
        // window.onload 有点晚 DOMContentLoaded更早
        document.addEventListener('DOMContentLoaded',async ()=>{
            //console.log(document.getElementById('repos'));
            // then的链式调用比较繁琐，可以用asynchronous await
            // fetch('https://api.github.com/users/SkyesRol')
            // .then(res=>res.json())
            // .then(data=>{
            //     document.getElementById('repos').innerHTML = data.map(item=>
            //     `<li>${item.name}</li>`).join('');
            //})
            // es8 async await
            // promise 实例
            // new Promise Promise{}  fetch是一种特殊的Promise，其本质是返回Promise实例
            // pending 状态 等待 
            // resolve（）后 fullfilled 完成状态 
            // reject（） 失败状态
            //console.log(fetch('https://api.github.com/users/SkyesRol/repos'));
            
            const result = await fetch('https://api.github.com/users/SkyesRol/repos')
            const data = await result.json();
            document.getElementById('repos').innerHTML = 
            data.map(item=>`<li>${item.name}</li>`).join('');
            
        })






        // www.bilibili.com  网站地址 用户访问的
        // api 地址 应用接口请求地址
        //const url = `https://api.github.com/users/SkyesRol`;
        // api地址返回的数据是JSON格式  资源
        // 可以通过js fetch 主动拉取资源 前端可以自己做主
        // web2.0 动态页面
        // 后端 node java go 开发

    </script>
</body>
</html>